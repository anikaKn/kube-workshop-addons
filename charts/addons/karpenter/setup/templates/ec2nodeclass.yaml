apiVersion: karpenter.k8s.aws/v1
kind: EC2NodeClass
metadata:
  name: "default"
spec:
  kubelet:
    podsPerCore: 2
    maxPods: 20
    systemReserved:
        cpu: 100m
        memory: 100Mi
        ephemeral-storage: 1Gi
    kubeReserved:
        cpu: 200m
        memory: 100Mi
        ephemeral-storage: 3Gi
#   amiFamily: AmazonLinux2
#   subnetSelectorTerms: 
#     - tags:
#         karpenter.sh/discovery: aknys
#   securityGroupSelectorTerms:
#     - tags:
#         karpenter.sh/discovery: aknys
# #  spotPricing:
# #    maxPrice: 0.08
